<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pizzaria Andrade üçïüçπ</title>
<style>
body { font-family: Arial, sans-serif; background: #fff8f0; margin:0; padding:0; color:#333;}
header { background:#d32f2f; color:white; text-align:center; padding:15px 10px;}
h1 { margin:0;}
.container { max-width:900px; margin:20px auto; padding:10px;}
.item { background:white; padding:15px; margin-bottom:10px; border-radius:10px; box-shadow:0 0 5px rgba(0,0,0,0.1); display:flex; justify-content:space-between; align-items:flex-start;}
.item-info { flex:1; margin-right:10px;}
.item h3 { margin:0 0 5px; color:#d32f2f;}
.item p { margin:0; font-size:0.9em;}
.preco { margin-top:5px; font-weight:bold; color:#388e3c; font-size:0.9em;}
button { background:#d32f2f; color:white; border:none; border-radius:5px; padding:8px 12px; cursor:pointer;}
button:hover { background:#b71c1c;}
#modal, #modalCarrinho { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); justify-content:center; align-items:center; z-index:999;}
#modal-content, #modalCarrinho-content { background:white; padding:20px; border-radius:10px; max-width:400px; text-align:center; max-height:80%; overflow-y:auto;}
select { width:100%; padding:8px; margin:5px 0; border-radius:5px; border:1px solid #ccc;}
.item-carrinho { display:flex; justify-content:space-between; align-items:center; margin:5px 0;}
.item-carrinho button { padding:2px 6px; font-size:0.8em;}
#btnCarrinho { position:fixed; bottom:20px; right:20px; background:#d32f2f; color:white; padding:10px 15px; border-radius:50px; font-size:16px; cursor:pointer; box-shadow:0 2px 5px rgba(0,0,0,0.3);}
</style>
</head>
<body>

<header>
  <h1>üçï Pizzaria Andrade üçïüçπ</h1>
  <p>Escolha at√© 3 sabores de pizza ou uma bebida e finalize pelo WhatsApp!</p>
</header>

<div class="container" id="menu"></div>

<!-- Bot√£o para abrir o carrinho -->
<button id="btnCarrinho" onclick="abrirCarrinho()">üõí Carrinho</button>

<!-- Modal Pizza/3 sabores -->
<div id="modal">
  <div id="modal-content">
    <h3>üçï Escolha at√© 3 sabores</h3>
    <select id="sabor1"><option value="">-- Sabor 1 --</option></select>
    <select id="sabor2"><option value="">-- Sabor 2 --</option></select>
    <select id="sabor3"><option value="">-- Sabor 3 --</option></select>
    <br><br>
    <button onclick="confirmarSabores()">Adicionar Pizza</button>
    <button onclick="fecharModal()">Cancelar</button>
  </div>
</div>

<!-- Modal Carrinho -->
<div id="modalCarrinho">
  <div id="modalCarrinho-content">
    <h3>üõí Seu Carrinho</h3>
    <div id="itens"></div>
    <select id="tamanho">
      <option value="P">P</option>
      <option value="M">M</option>
      <option value="G">G</option>
      <option value="GG">GG</option>
    </select><br>

    <select id="tipoEntrega">
      <option value="Retirada">üè† Retirar no local</option>
      <option value="Entrega">üöó Entrega</option>
    </select><br>

    <textarea id="obs" placeholder="Observa√ß√µes (ex: sem cebola, borda recheada...)"></textarea><br>
    <button onclick="finalizarPedido()">Finalizar Pedido via WhatsApp</button>
    <button onclick="fecharCarrinho()" style="background:#b71c1c; margin-top:10px;">Fechar</button>
  </div>
</div>

<script>
const numeroWhatsApp = "5587981347413";

const pizzas = [
  {nome:"A Moda da Casa", desc:"Ovo, presunto, palmito, mussarela, ervilha e milho.", precos:{P:34,M:44,G:54,GG:64}},
  {nome:"A Moda do Pizzaiolo", desc:"Frango, presunto, tomate e mussarela.", precos:{P:32,M:42,G:52,GG:62}},
  {nome:"A Moda Italiana", desc:"Frango, calabresa, champignon, mussarela e catupiry.", precos:{P:30,M:40,G:50,GG:60}},
  {nome:"Alho e √ìleo", desc:"Alho frito e mussarela.", precos:{P:30,M:40,G:50,GG:60}},
  {nome:"Atum", desc:"Atum, mussarela e cebola.", precos:{P:35,M:45,G:55,GG:65}},
  {nome:"Alite", desc:"Alite e mussarela.", precos:{P:40,M:50,G:60,GG:70}},
  {nome:"Brigadeiro", desc:"Chocolate e granulado.", precos:{P:32,M:42,G:52,GG:62}},
  {nome:"Morango", desc:"Chocolate e morango.", precos:{P:34,M:44,G:54,GG:64}}
];

const bebidas = [
  {nome:"√Ågua", valor:"R$ 3,00"},
  {nome:"Suco (copo)", valor:"R$ 7,00"},
  {nome:"Suco (jarra)", valor:"R$ 15,00"},
  {nome:"Refrigerante (lata)", valor:"R$ 6,00"},
  {nome:"Refrigerante (1 litro)", valor:"R$ 10,00"},
  {nome:"Refrigerante (2 litros)", valor:"R$ 15,00"},
  {nome:"Heineken Long Neck", valor:"R$ 10,00"},
  {nome:"Heineken Long Neck Zero", valor:"R$ 10,00"},
  {nome:"Heineken 600 ml", valor:"R$ 17,00"},
  {nome:"Budweiser Long Neck", valor:"R$ 8,00"},
  {nome:"Budweiser 600 ml", valor:"R$ 12,00"},
  {nome:"Stella 600 ml", valor:"R$ 12,00"},
  {nome:"Brahma 600 ml", valor:"R$ 10,00"},
  {nome:"Johnnie Walker (dose)", valor:"R$ 14,00"},
  {nome:"White Horse (dose)", valor:"R$ 10,00"},
  {nome:"Black & White (dose)", valor:"R$ 8,00"}
];

let pedido = [];

function gerarMenu() {
  const menu = document.getElementById("menu");

  // Pizzas
  pizzas.forEach(item => {
    const div = document.createElement("div");
    div.className = "item";
    div.innerHTML = `
      <div class="item-info">
        <h3>${item.nome}</h3>
        <p>${item.desc}</p>
        <div class="preco">
          P: R$${item.precos.P} | M: R$${item.precos.M} | G: R$${item.precos.G} | GG: R$${item.precos.GG}
        </div>
      </div>
      <button onclick="abrirModal()">Escolher</button>
    `;
    menu.appendChild(div);
  });

  // Bebidas
  bebidas.forEach(item => {
    const div = document.createElement("div");
    div.className = "item";
    div.innerHTML = `
      <div class="item-info">
        <h3>${item.nome}</h3>
        <p class="preco">Valor: ${item.valor}</p>
      </div>
      <button onclick="adicionarBebida('${item.nome}')">Escolher</button>
    `;
    menu.appendChild(div);
  });

  ["sabor1","sabor2","sabor3"].forEach(selId => {
    const sel = document.getElementById(selId);
    pizzas.forEach(i => sel.innerHTML += `<option value="${i.nome}">${i.nome}</option>`);
  });
}

function abrirModal() { document.getElementById("modal").style.display="flex"; }
function fecharModal() { document.getElementById("modal").style.display="none"; }

function abrirCarrinho() { 
  document.getElementById("modalCarrinho").style.display="flex"; 
  atualizarCarrinho();
}
function fecharCarrinho() { document.getElementById("modalCarrinho").style.display="none"; }

function confirmarSabores() {
  const s1 = document.getElementById("sabor1").value;
  const s2 = document.getElementById("sabor2").value;
  const s3 = document.getElementById("sabor3").value;
  const tamanho = document.getElementById("tamanho").value;

  if(!s1) { alert("Escolha pelo menos um sabor"); return; }

  let saboresSelecionados = [s1];
  if(s2 && s2!==s1) saboresSelecionados.push(s2);
  if(s3 && s3!==s1 && s3!==s2) saboresSelecionados.push(s3);

  pedido.push({texto:`${saboresSelecionados.join(" + ")} - Tamanho ${tamanho}`, id:Date.now()});
  fecharModal();
  abrirCarrinho();
}

function adicionarBebida(nome) {
  pedido.push({texto:`üçπ ${nome}`, id:Date.now()});
  abrirCarrinho();
}

function atualizarCarrinho() {
  const div = document.getElementById("itens");
  div.innerHTML="";
  pedido.forEach(p => {
    const itemDiv = document.createElement("div");
    itemDiv.className="item-carrinho";
    itemDiv.innerHTML=`<span>${p.texto}</span><button onclick="removerItem(${p.id})">‚ùå Remover</button>`;
    div.appendChild(itemDiv);
  });
}

function removerItem(id) {
  pedido = pedido.filter(p=>p.id!==id);
  atualizarCarrinho();
}

function finalizarPedido() {
  if(pedido.length===0) { alert("Adicione pelo menos um item!"); return; }
  const tipoEntrega = document.getElementById("tipoEntrega").value;
  const obs = document.getElementById("obs").value;

  const mensagem = encodeURIComponent(
    `üçïüçπ *Pedido - Pizzaria Andrade*\n\n${pedido.map(p=>p.texto).join("\n")}\n\nüì¶ Tipo: ${tipoEntrega}\nüìù Observa√ß√µes: ${obs}`
  );

  window.open(`https://wa.me/${numeroWhatsApp}?text=${mensagem}`, "_blank");
}

gerarMenu();
</script>

</body>
</html>
